<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
 <title>FindSchool</title>
 <link rel="icon" type="image/png" href="assets/icons/logonoir.png">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="vendor/leaflet/dist/leaflet.css">
  <script src="vendor/leaflet/dist/leaflet.js"></script>
  <script src="vendor/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
  <link src="vendor/leaflet.markercluster/dist/MarkerCluster.css">
  <link src="vendor/leaflet.markercluster/dist/MarkerCluster.Default.css">
  <script type="module" src="./js/main.js"></script>
</head>
<body>
  <header class="site-header">
    <div class="title-container">
      <img src="assets/icons/logovert.png" alt="Logo école" class="logo-img">
      <h1>FindSchool</h1>
    </div>
    <button class="header-btn"></button>
  </header>
  <div class="main-layout">
    <div class="sidebar">

      <h3 class="sidebar-title">
        <img src="assets/icons/filtre.png" alt="Filtre" class="filter-icon">
        Filtres de recherche
      </h3>
    
      <form class="filters">
    
        <div class="group">
          <div class="group-title">Type d’établissement</div>
        
          <label class="check">
            <input type="radio" name="statut" value="" checked>
            Indifférent
          </label>
        
          <label class="check">
            <input type="radio" name="statut" value="public">
            Lycée public
          </label>
        
          <label class="check">
            <input type="radio" name="statut" value="prive">
            Lycée privé
          </label>
        </div>
    
        <div class="group">
          <div class="group-title">Type de lycée</div>
        
          <label class="check">
            <input type="radio" name="voie" value="" checked>
            Indifférent
          </label>
        
          <label class="check">
            <input type="radio" name="voie" value="generale">
            Général
          </label>
        
          <label class="check">
            <input type="radio" name="voie" value="technologique">
            Technologique
          </label>
        
          <label class="check">
            <input type="radio" name="voie" value="professionnel">
            Professionnel
          </label>
        </div>
        
    
        <div id="blocGeneral" style="display:none;">
          <div class="group">

            <div class="group-title">Options (général)</div>
                    
            <div class="field">
              <div id="specialitesGeneralList"></div>
            </div>

          </div>
          

          <div class="group">
          <label class="field">
            <div class="group-title">
              Taux de réussite 
              <span class="hint" tabindex="0">
                ?
                <span class="tooltip" role="tooltip">
                  Si aucune spécialité n’est cochée, le taux s’applique à l’ensemble de la voie.<br><br>
                  Si une ou plusieurs spécialités sont cochées, le lycée est gardé si au moins une spécialité cochée atteint ce taux.
                </span>
              </span>
            </div>
          <input id="tauxMinGeneral" name="tauxMinGeneral" type="number" min="0" max="100" step="1" placeholder="ex: 95">
          </label>
          </div>
        </div>
        
    
        <div id="blocTechno" style="display:none;">
          <div class="group">
            <div class="group-title">Séries technologiques</div>
            <div class="field">
              <div id="specialitesTechnoList"></div>
            </div>
          </div>
        
          <div class="group">
            <div class="field">
              <div class="group-title">
                Taux de réussite
                <span class="hint" tabindex="0">
                  ?
                  <span class="tooltip">
                    Si aucune série technologique n’est cochée, le lycée est gardé si
                    au moins une série proposée atteint ce taux.<br><br>
                    Si une ou plusieurs séries sont cochées, le lycée est gardé si
                    au moins une série cochée atteint ce taux.
                  </span>
                </span>
              </div>
                            <input id="tauxMinTechno" name="tauxMinTechno" type="number" min="0" max="100" step="1" placeholder="95">
            </div>
          </div>
        </div>
        
        <div id="blocPro" style="display:none;">
          <div class="group">
            <div class="group-title">Filière professionnelles</div>
            <div class="field">
              <div id="specialitesProList"></div>
            </div>
          </div>
        
          <div class="group">
            <div class="field">
              <div class="group-title">
                Taux de réussite
                <span class="hint" tabindex="0">
                  ?
                  <span class="tooltip">
                    Si aucun domaine professionnel n’est coché, le lycée est gardé si
                    au moins un domaine proposé atteint ce taux.<br><br>
                    Si un ou plusieurs domaines sont cochés, le lycée est gardé si
                    au moins un domaine coché atteint ce taux.
                  </span>
                </span>
              </div>
                            <input id="tauxMinPro" name="tauxMinPro" type="number" min="0" max="100" step="1" placeholder="90">
            </div>
          </div>
        </div>
        <div class="group">
          <div class="group-title">Services disponibles</div>

          <label class="check">
            <input type="checkbox" name="services" value="restauration">
            Restauration
          </label>

          <label class="check">
            <input type="checkbox" name="services" value="hebergement">
            Hébergement
          </label>

          <label class="check">
            <input type="checkbox" name="services" value="apprentissage">
            Apprentissage
          </label>
        </div>
      </form>

        <button type="button" id="resetBtn" class="btn btn-primary">
          <img src="assets/icons/reset.png" alt="" class="btn-icon">
          Réinitialiser
        </button>
      </div>
    
    <div id="map"></div>

    <div id="resultsPopup" class="results-popup ">
      <div class="results-header">
        <div class="results-title">
        <img src="assets/icons/list.png" alt="liste" class="results-icon">
        <span id="lycees-count">0</span> lycées trouvés
        <button id="resultsToggle" class="results-toggle" type="button" aria-expanded="true" aria-controls="resultsBody">
          ▶
        </button>
      </div>
      
      </div>
    
      <div id="resultsBody" class="results-body">
        <ul id="lycees-list"></ul>
        
      </div>
    </div>
  
    <button id="locateBtn" class="locate-btn" title="Revenir à ma position">
      <img src="assets/icons/marqueurvert.png" alt="Ma position" class="locate-icon">
    </button>
  </div>
  <div id="profilModal" class="modal-overlay" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Choisis ton profil</h2>
          <button id="closeModal" class="close-btn">×</button>
        </div>
        <div class="modal-body">
          <div class="profil-grid">
            <label class="profil-card">
              <input type="radio" name="userProfil" value="equilibre" id="equilibre" checked>
              <div class="profil-icon">
                <img src="assets/icons/equilibre.png">
              </div>
              <div class="profil-info">
                <h3>Équilibre</h3>
                <p>Performance + proximité</p>
              </div>
            </label>
            
            <label class="profil-card">
              <input type="radio" name="userProfil" value="proximite" id="proximite">
              <div class="profil-icon">
                <img src="assets/icons/proximite.png" >
              </div>
              <div class="profil-info">
                <h3>Proximité</h3>
                <p>Le plus proche</p>
              </div>
            </label>
            
            <label class="profil-card">
              <input type="radio" name="userProfil" value="performance" id="performance">
              <div class="profil-icon">
                <img src="assets/icons/etoile.png">
              </div>
              <div class="profil-info">
                <h3>Performance</h3>
                <p>Meilleurs résultats</p>
              </div>
            </label>
          </div>
          <div class="modal-actions">
            <button id="saveProfil" class="btn-primary">Valider</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
